ChatService = game:GetService("Chat")
ActivateKey = "z"
Plr = game.Players.LocalPlayer
Char = Plr.Character or Plr.CharacterAdded:wait()
CD = false
Range = 5
TripLastingTime = 2
EmperorEyeDuration = 4
ReloadTime = 15
EffectColor = BrickColor.new("Really red")
Char = workspace[Plr.Name]

function ConvertCode(keycode)
	local code = tostring(keycode)
	local pattern = "Enum.KeyCode%p%a"
	local anchor = "%p%a+"
	local finalkey = ""
	for t in code:gmatch(anchor) do
		for fc in t:gmatch("%a+") do
		finalkey = fc
		end
	end
	return finalkey:lower()
end

function Trip()
	local P1 = Vector3.new(-Range,-Range,-Range)+Char.Torso.Position
	local P2 = Vector3.new(Range,Range,Range)+Char.Torso.Position
	local Region = Region3.new(P1,P2)
	for _,Part in pairs(game.Workspace:FindPartsInRegion3(Region,nil,100)) do
		if Part.Parent:FindFirstChild("Humanoid") and Part.Parent ~= Char then
			Part.Parent.Humanoid.Sit = true
			if Part.Parent.Humanoid:FindFirstChild("Tripped") == nil then
			local TripTag = Instance.new("BoolValue",Part.Parent.Humanoid);TripTag.Name = "Tripped"
			local savedtorsocframe = Part.Parent.Torso.CFrame
			local walkspeedco = coroutine.wrap(function()
				local waitsy = 0
				repeat wait();waitsy = waitsy+0.03;Part.Parent.Torso.CFrame = savedtorsocframe until waitsy >= 2
				TripTag:Destroy()
			end)
			walkspeedco()
			end
		end
	end
end

function EmperorEye()
	ChatService:Chat(Char,"I won't let anybody look down upon me...",2)
	wait(0.5)
	ChatService:Chat(Char,"It's over now...",2)
	wait(0.5)
	ChatService:Chat(Char,"Emperors eye!",2)
	local Glow = Instance.new("PointLight",Char.Torso)
	Glow.Brightness = math.huge
	Glow.Color = Color3.new(1,0,0)
	Glow.Range = 20
	Glow.Shadows = true
	local gg = false
	local C1 = coroutine.wrap(function()
		while Glow ~= nil or Glow.Parent ~= Char.Torso do wait()
		if gg == true then break end
		Trip()
		end
	end)
	C1()
	local asd = false
	local runcon
	runcon = Char.Humanoid.Running:connect(function(speed)
				if asd == false then
					asd = true
					local kasda = coroutine.wrap(function()
						wait(0.7)
						asd = false
					end)
					kasda()
					for _,part in pairs(Char:GetChildren()) do
						local parttoclone = nil
						local savedcframe = nil
						if part.Name ~= "HumanoidRootPart" then
							if part:IsA("BasePart") then
								parttoclone = part
								savedcframe = part.CFrame
							elseif part:IsA("Hat") then
								parttoclone = part.Handle
								savedcframe = part.Handle.CFrame
							end
							if parttoclone ~= nil then
								local PartHolder = Instance.new("Model",Char.Torso)
								PartHolder.Name = ""
								local PartEffect = Instance.new("Humanoid",PartHolder)
								PartEffect.MaxHealth = 0
								local PC = Instance.new("Part")
								PC.Parent = workspace
								PC.CanCollide = false
								PC.Anchored = true
								PC.Name = parttoclone.Name
								PC.BrickColor = EffectColor
								PC.Size = parttoclone.Size
								PC.TopSurface = 0
								PC.BottomSurface = 0
								PC.Transparency = 0.3
								PC.CFrame = savedcframe
								PC.CanCollide = false
								PC.Changed:connect(function()
									PC.CanCollide = false
								end)
								if parttoclone:FindFirstChild("Mesh") then
									local Mesh = parttoclone.Mesh:Clone()
									Mesh.TextureId = ""
									Mesh.Parent = PC
								end
								local fade = coroutine.wrap(function()
									for i = 1, 28 do
									PC.Transparency = PC.Transparency + 0.1/4
									wait()
									end
								end)
								fade()
								game.Debris:AddItem(PC,.7)								
							end
						end
					end
					end
	end)
	wait(EmperorEyeDuration)
	runcon:disconnect()
	Glow:Destroy()
	gg = true
	wait(ReloadTime)
	CD = false
end

game:GetService("UserInputService").InputBegan:connect(function(inputobject,gpe)
	local code = inputobject.KeyCode
	local Key = ConvertCode(code)
	if CD == false and Key == ActivateKey and not gpe then
		CD = true
		EmperorEye()
		--------------------------------------
		
		ChatService = game:GetService("Chat")
ActivateKey = "x"
Plr = game.Players.LocalPlayer
Char = Plr.Character or Plr.CharacterAdded:wait()
CD = false
Range = 10
ReloadTime = 30
EffectColor = BrickColor.new("Really black")
Char = workspace:WaitForChild(Plr.Name)

function ConvertCode(keycode)
local code = tostring(keycode)
local pattern = "Enum.KeyCode%p%a"
local anchor = "%p%a+"
local finalkey = ""
for t in code:gmatch(anchor) do
for fc in t:gmatch("%a+") do
finalkey = fc
end
end
return finalkey:lower()
end

function VanishEffect()
local P1 = Vector3.new(-Range,-Range,-Range)+Char.Torso.Position
local P2 = Vector3.new(Range,Range,Range)+Char.Torso.Position
local Region = Region3.new(P1,P2)
for _,Part in pairs(game.Workspace:FindPartsInRegion3(Region,nil,100)) do
if game.Players:GetPlayerFromCharacter(Part.Parent) ~= nil and Part.Parent ~= Char then
local plrtargetted = game.Players:GetPlayerFromCharacter(Part.Parent)
if plrtargetted.CameraMode == Enum.CameraMode.Classic then
plrtargetted.CameraMode = Enum.CameraMode.LockFirstPerson
local sad = coroutine.wrap(function()
wait(0.5)
plrtargetted.CameraMode = Enum.CameraMode.Classic
end)
sad()
end
end
end
end

function CheckBall()
for _,thing in pairs(Char:GetChildren()) do
if thing:IsA("Tool") and thing:FindFirstChild("Shoot()") then
return true
end
end
return false
end

function VanishingDrive()
if CheckBall() then
ChatService:Chat(Char,"Kasamatsu : Full Drive")
local op = Char.Torso.Position
VanishEffect()
Char.Torso.CFrame = Char.Torso.CFrame*CFrame.new(0,0,-25)
local effect = Instance.new("Part",workspace)
effect.CanCollide = false
effect.BrickColor = EffectColor
effect.Transparency = 0.4
effect.Anchored = true
effect.Size = Vector3.new(4,4,(op-Char.Torso.Position).Magnitude)
effect.TopSurface = 0
effect.BottomSurface = 0
effect.CFrame = CFrame.new(Char.Torso.Position,op)*CFrame.new(0,0,-(op-Char.Torso.Position).Magnitude/2)
effect.Changed:connect(function()
effect.CanCollide = false
end)
game.Debris:AddItem(effect,1.5)
wait(ReloadTime)
end
CD = false
end

game:GetService("UserInputService").InputBegan:connect(function(inputobject,gpe)
local code = inputobject.KeyCode
local Key = ConvertCode(code)
if CD == false and Key == ActivateKey and not gpe then
CD = true
VanishingDrive()
end
end)
	end
end)
