ChatService = game:GetService("Chat")
ActivateKey = "z"
Plr = game.Players.LocalPlayer
Char = Plr.Character or Plr.CharacterAdded:wait()
CD = false
Range = 5
TripLastingTime = 2
EmperorEyeDuration = 4
ReloadTime = 15
EffectColor = BrickColor.new("Really red")
Char = workspace[Plr.Name]

function ConvertCode(keycode)
	local code = tostring(keycode)
	local pattern = "Enum.KeyCode%p%a"
	local anchor = "%p%a+"
	local finalkey = ""
	for t in code:gmatch(anchor) do
		for fc in t:gmatch("%a+") do
		finalkey = fc
		end
	end
	return finalkey:lower()
end

function Trip()
	local P1 = Vector3.new(-Range,-Range,-Range)+Char.Torso.Position
	local P2 = Vector3.new(Range,Range,Range)+Char.Torso.Position
	local Region = Region3.new(P1,P2)
	for _,Part in pairs(game.Workspace:FindPartsInRegion3(Region,nil,100)) do
		if Part.Parent:FindFirstChild("Humanoid") and Part.Parent ~= Char then
			Part.Parent.Humanoid.Sit = true
			if Part.Parent.Humanoid:FindFirstChild("Tripped") == nil then
			local TripTag = Instance.new("BoolValue",Part.Parent.Humanoid);TripTag.Name = "Tripped"
			local savedtorsocframe = Part.Parent.Torso.CFrame
			local walkspeedco = coroutine.wrap(function()
				local waitsy = 0
				repeat wait();waitsy = waitsy+0.03;Part.Parent.Torso.CFrame = savedtorsocframe until waitsy >= 2
				TripTag:Destroy()
			end)
			walkspeedco()
			end
		end
	end
end

function EmperorEye()
	ChatService:Chat(Char,"I won't let anybody look down upon me...",2)
	wait(0.5)
	ChatService:Chat(Char,"It's over now...",2)
	wait(0.5)
	ChatService:Chat(Char,"Emperors eye!",2)
	local Glow = Instance.new("PointLight",Char.Torso)
	Glow.Brightness = math.huge
	Glow.Color = Color3.new(1,0,0)
	Glow.Range = 20
	Glow.Shadows = true
	local gg = false
	local C1 = coroutine.wrap(function()
		while Glow ~= nil or Glow.Parent ~= Char.Torso do wait()
		if gg == true then break end
		Trip()
		end
	end)
	C1()
	local asd = false
	local runcon
	runcon = Char.Humanoid.Running:connect(function(speed)
				if asd == false then
					asd = true
					local kasda = coroutine.wrap(function()
						wait(0.7)
						asd = false
					end)
					kasda()
					for _,part in pairs(Char:GetChildren()) do
						local parttoclone = nil
						local savedcframe = nil
						if part.Name ~= "HumanoidRootPart" then
							if part:IsA("BasePart") then
								parttoclone = part
								savedcframe = part.CFrame
							elseif part:IsA("Hat") then
								parttoclone = part.Handle
								savedcframe = part.Handle.CFrame
							end
							if parttoclone ~= nil then
								local PartHolder = Instance.new("Model",Char.Torso)
								PartHolder.Name = ""
								local PartEffect = Instance.new("Humanoid",PartHolder)
								PartEffect.MaxHealth = 0
								local PC = Instance.new("Part")
								PC.Parent = workspace
								PC.CanCollide = false
								PC.Anchored = true
								PC.Name = parttoclone.Name
								PC.BrickColor = EffectColor
								PC.Size = parttoclone.Size
								PC.TopSurface = 0
								PC.BottomSurface = 0
								PC.Transparency = 0.3
								PC.CFrame = savedcframe
								PC.CanCollide = false
								PC.Changed:connect(function()
									PC.CanCollide = false
								end)
								if parttoclone:FindFirstChild("Mesh") then
									local Mesh = parttoclone.Mesh:Clone()
									Mesh.TextureId = ""
									Mesh.Parent = PC
								end
								local fade = coroutine.wrap(function()
									for i = 1, 28 do
									PC.Transparency = PC.Transparency + 0.1/4
									wait()
									end
								end)
								fade()
								game.Debris:AddItem(PC,.7)								
							end
						end
					end
					end
	end)
	wait(EmperorEyeDuration)
	runcon:disconnect()
	Glow:Destroy()
	gg = true
	wait(ReloadTime)
	CD = false
end

game:GetService("UserInputService").InputBegan:connect(function(inputobject,gpe)
	local code = inputobject.KeyCode
	local Key = ConvertCode(code)
	if CD == false and Key == ActivateKey and not gpe then
		CD = true
		EmperorEye()
	end
end)
-----------------------------------
local Player = game.Players.LocalPlayer
local debounce = false

local function inputBegan(inputObject, gameProcessedEvent)
	if debounce then return end
	debounce = true
	
	if inputObject.KeyCode == Enum.KeyCode.X and not gameProcessedEvent and Player.Character then
		local humanoid = Player.Character:FindFirstChild("Humanoid")
		local torso = Player.Character:FindFirstChild("Torso")
		
		local head = Player.Character:FindFirstChild("Head")
		if head then
			game:GetService("Chat"):Chat(head, "Jump!")
		end
		
		if humanoid and torso then
			local jump = Instance.new("BodyForce")
			jump.Parent = torso
			jump.force = Vector3.new(0,6500,0)
			wait(.5)
			if jump then jump:Destroy() end
			
			if humanoid then
				humanoid.WalkSpeed = 2
				wait(2)
			end
			if humanoid then 
				humanoid.WalkSpeed = 16
				wait(10)
			end
		end	
	end
	debounce = false
end

game:GetService("UserInputService").InputBegan:connect(inputBegan)
-----------------------------
local Player = game.Players.LocalPlayer
Char = Player.Character or Player.CharacterAdded:wait()
local debounce = false
local Player = game.Players.LocalPlayer
Char = Player.Character or Player.CharacterAdded:wait()
local debounce = false
EffectColor = BrickColor.new("Really red")
Char = workspace[Player.Name]


local function inputBegan(inputObject, gameProcessedEvent)
if debounce then return end
debounce = true
if inputObject.KeyCode == Enum.KeyCode.C and not gameProcessedEvent and Player.Character then
local humanoid = Player.Character:FindFirstChild("Humanoid")
game:GetService("Chat"):Chat(Player.Character.Head, "Dash!")
if humanoid then
humanoid.WalkSpeed = 27
local stopit = false
local waitsy = coroutine.wrap(function()
	wait(2)
	stopit = true
end)
waitsy()
asd = false
local lasttorsopX = Char.Torso.Position.X
local lasttorsopZ = Char.Torso.Position.Z
while stopit == false do wait()
	if stopit == true then break end
	if asd == false then
	local kasda = coroutine.wrap(function()
		wait(0.85)
		asd = false
	end)
	kasda()
	
	if Char.Torso.Position.X ~= lasttorsopX or Char.Torso.Position.Z ~= lasttorsopZ then 
					lasttorsopX = Char.Torso.Position.X
					lasttorsopZ = Char.Torso.Position.Z
		for _,part in pairs(Char:GetChildren()) do
			local parttoclone = nil
			local savedcframe = nil
			if part.Name ~= "HumanoidRootPart" then
				if part:IsA("BasePart") then
					parttoclone = part
					savedcframe = part.CFrame
				elseif part:IsA("Hat") then
					parttoclone = part.Handle
					savedcframe = part.Handle.CFrame
				end
				if parttoclone ~= nil then
					local PartHolder = Instance.new("Model",Char.Torso)
					PartHolder.Name = ""
					local PC = Instance.new("Part")
					PC.Parent = workspace
					PC.FormFactor = "Custom"
					PC.CanCollide = false
					PC.Anchored = true
					PC.Name = parttoclone.Name
					PC.BrickColor = EffectColor
					PC.Size = parttoclone.Size
					PC.TopSurface = 0
					PC.BottomSurface = 0
					PC.Transparency = 0.5
					PC.CFrame = savedcframe
					PC.Parent = PartHolder
					PC.CanCollide = false
					PC.Changed:connect(function()
						PC.CanCollide = false
					end)
					if parttoclone:FindFirstChild("Mesh") then
						local Mesh = parttoclone.Mesh:Clone()
						Mesh.TextureId = ""
						Mesh.Parent = PC
					end
					local fade = coroutine.wrap(function()
						for i = 1, 20 do
						PC.Transparency = PC.Transparency + 0.1/4
						wait()
						end
					end)
					fade()
					local delete = coroutine.wrap(function()
					wait(0.1)
					PartHolder:Destroy()
					end)		
					delete()			
				end
			end
		end
		end
	end
end
if humanoid then
humanoid.WalkSpeed = 16
wait(9)
end
end
end
debounce = false
end

game:GetService("UserInputService").InputBegan:connect(inputBegan)
